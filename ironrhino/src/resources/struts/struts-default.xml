<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="ironrhino-default" extends="struts-default">
		<result-types>
			<result-type name="json"
				class="org.ironrhino.core.ext.struts.JsonResult" />
			<result-type name="referer"
				class="org.ironrhino.core.ext.struts.RefererResult" />
			<result-type name="feed"
				class="org.ironrhino.core.ext.struts.FeedResult" />
		</result-types>
		<interceptors>
			<interceptor name="annotationWorkflow"
				class="com.opensymphony.xwork2.interceptor.annotations.AnnotationWorkflowInterceptor" />
			<interceptor-stack name="annotationDefaultStack">
				<interceptor-ref name="checkbox" />
				<interceptor-ref name="actionMappingParams"/>
				<interceptor-ref name="params">
					<param name="excludeParams">dojo\..*</param>
				</interceptor-ref>
				<interceptor-ref name="conversionError" />
				<interceptor-ref name="annotationWorkflow" />
				<interceptor-ref name="validation">
					<param name="validateAnnotatedMethodOnly">
						true
					</param>
				</interceptor-ref>
				<interceptor-ref name="workflow" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="annotationDefaultStack" />
		<global-results>
			<result name="json" type="json" />
			<result name="referer" type="referer" />
			<result name="feed" type="feed">
				<param name="feedType">${uid}</param>
			</result>
			<result name="redirect" type="redirect">
				${targetUrl}
			</result>
			<result name="suggest">
				/WEB-INF/view/jsp/suggest.jsp
			</result>
			<result name="accessDenied">/accessDenied.jsp</result>
		</global-results>
	</package>
	<package name="default" namespace="/" extends="ironrhino-default">
		<action name="index"
			class="org.ironrhino.online.action.IndexAction">
			<result>/WEB-INF/view/jsp/index.jsp</result>
		</action>
		<action name="left"
			class="org.ironrhino.online.action.IndexAction" method="left">
			<result>/WEB-INF/view/jsp/left.jsp</result>
		</action>
		<action name="right"
			class="org.ironrhino.online.action.IndexAction" method="right">
			<result>/WEB-INF/view/jsp/right.jsp</result>
		</action>
		<action name="search"
			class="org.ironrhino.online.action.SearchAction">
			<result name="result">
				/WEB-INF/view/jsp/search_result.jsp
			</result>
			<result name="suggestion">
				/WEB-INF/view/jsp/search_suggest.jsp
			</result>
		</action>
		<action name="product"
			class="org.ironrhino.online.action.ProductAction">
			<result name="input" type="redirect">
				/product/${uid}.html
			</result>
			<result name="success" type="redirect">
				/product/${uid}.html
			</result>
			<result name="list">
				/WEB-INF/view/jsp/product_list.jsp
			</result>
			<result name="view">
				/WEB-INF/view/jsp/product_view.jsp
			</result>
			<!-- 
				<result name="view" type="freemarker">
				/WEB-INF/view/ftl/product.ftl
				</result>
			-->
		</action>
		<action name="cart"
			class="org.ironrhino.online.action.CartAction">
			<result name="success" type="redirectAction">cart</result>
			<result name="view">/WEB-INF/view/jsp/cart.jsp</result>
			<result name="facade">
				/WEB-INF/view/jsp/cart_facade.jsp
			</result>
		</action>
		<action name="feedback"
			class="org.ironrhino.online.action.FeedbackAction">
			<result name="input">/WEB-INF/view/jsp/feedback.jsp</result>
		</action>
		<action name="payment"
			class="org.ironrhino.online.action.PaymentAction" />
		<action name="region"
			class="org.ironrhino.common.action.RegionTreeAction">
			<result name="success">
				/WEB-INF/view/jsp/region_tree.jsp
			</result>
		</action>
	</package>
</struts>
